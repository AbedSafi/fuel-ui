{"version":3,"sources":["directives/Animation/Animation.ts"],"names":["Animation","Animation.constructor","Animation.onChange","Animation.onInit","Animation.addAnimation","Animation.setup","Animation.startAnimation","Animation.cleanAnimation","Animation.animationStarted","Animation.animationEnded"],"mappings":"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","file":"directives/Animation/Animation.js","sourcesContent":["import {Directive, Input, Output, EventEmitter, ElementRef} from 'angular2/angular2';\n\n@Directive({\n    selector: '[animation]',\n    host: {\n        '(animationstart)': 'animationStarted($event)',\n        '(webkitAnimationStart)': 'animationStarted($event)',\n        '(oanimationstart)': 'animationStarted($event)',\n        '(MSAnimationStart)': 'animationStarted($event)',\n        '(animationend)': 'animationEnded($event)',\n        '(webkitAnimationEnd)': 'animationEnded($event)',\n        '(oanimationend)': 'animationEnded($event)',\n        '(MSAnimationEnd)': 'animationEnded($event)'\n    }\n})\nexport class Animation {\n    @Output() onAnimationStart: EventEmitter = new EventEmitter();\n    @Output() onAnimationEnd: EventEmitter = new EventEmitter();\n\n\t@Input('animation') animationClasses: string = '';\n\t@Input() play: boolean = false; \n\t@Input() id: string = '';  // use for query filtering\n\t@Input() group: string = ''; // use for query filtering\n\t\n\t_animationQueue: string[] = [];\n\t_callbacks: (() => void)[] = [];\n\telement: Element;\n\t\n    constructor(element: ElementRef) {\n\t\tthis.element = element.nativeElement;\n    }\n\t\n\tonChange(): void {\n\t\tthis.setup();\n\t}\n\t\n\tonInit(): void {\n\t\tthis.setup();\n\t}\n\n\taddAnimation(animationClasses: string): Animation {\n\t\tanimationClasses.split(' ')\n\t\t\t.map(c => this._animationQueue.push(c));\n\t\tthis.animationClasses += \" \" + animationClasses;\n\t\treturn this;\n\t}\n\n\tsetup(): Animation {\n\t\tthis._animationQueue = this.animationClasses\n\t\t\t.split(\" \")\n\t\t\t.filter((c) => c.length > 0);\n\t\t\t\n\t\tif(this.play && this._animationQueue.length > 0)\n\t\t\tthis.startAnimation();\n\t\treturn this;\n\t}\n\n\tstartAnimation(callback: () => void = null): Animation {\n\t\tif(callback != null)\n\t\t\tthis._callbacks.push(callback);\n\t\t\n\t\tthis._animationQueue.shift()\n\t\t\t.split('.')\n\t\t\t.filter((c) => c.length > 0)\n\t\t\t.map((c) => this.element.classList.add(c));\n\t\treturn this;\t\n\t}\n\n\tcleanAnimation(): Animation {\n\t\tthis.animationClasses\n\t\t\t.replace('.', ' ')\n\t\t\t.split(' ')\n\t\t\t.filter((c) => c.length > 0)\n\t\t\t.map((c) => {\n\t\t\t\tthis.element.classList.remove(c)\n\t\t\t});\n\t\treturn this;\n\t}\n\n    animationStarted(event: Event): void {\n        this.onAnimationStart.next(null);\n    }\n\n    animationEnded(event: Event): void {\n\t\tthis.cleanAnimation();\n\t\tif(this._animationQueue.length > 0){\n\t\t\tthis.startAnimation();\n\t\t\treturn;\n\t\t}\t\t\t\n\t\t \n\t\twhile(this._callbacks.length > 0)\n\t\t\tthis._callbacks.shift()(); \n\t\t \n\t\tthis.onAnimationEnd.next(null);\n    }\n}"],"sourceRoot":"/source/"}