{"version":3,"sources":["components/Carousel/Carousel.ts"],"names":["CarouselItem","CarouselItem.constructor","CarouselItem.resetStatus","CarouselItem.resetAnimation","CarouselItem.animationStart","CarouselItem.animationEnd","CarouselItem.moveLeft","CarouselItem.moveRight","CarouselItem.checkIfAnimating","Carousel","Carousel.constructor","Carousel.afterContentInit","Carousel.registerImages","Carousel.setAllInactive","Carousel.switchTo","Carousel.nextImage","Carousel.prevImage","Carousel.checkIfAnimating","Carousel.getActiveIndex","Carousel.getActiveImage"],"mappings":"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","file":"components/Carousel/Carousel.js","sourcesContent":["import {Directive, Component, View, CORE_DIRECTIVES, ViewEncapsulation} from 'angular2/angular2';\nimport {QueryList, ContentChildren, ElementRef} from 'angular2/angular2';\nimport {Input, Output, EventEmitter, OnInit} from 'angular2/angular2';\n\n@Directive({\n\tselector: '.carousel-item',\n\thost: {\n\t\t'[class.active]': 'isActive',\n\t\t'[class.slide-out-left]': 'left',\n\t\t'[class.slide-out-right]': 'right',\n\t\t'[class.slide-in-right]': 'next',\n\t\t'[class.slide-in-left]': 'prev',\n\t\t'(animationstart)': 'animationStart()',\n\t\t'(webkitAnimationStart)': 'animationStart()',\n\t\t'(oanimationstart)': 'animationStart()',\n\t\t'(MSAnimationStart)': 'animationStart()',\n\t\t'(animationend)': 'animationEnd()',\n\t\t'(webkitAnimationEnd)': 'animationEnd()',\n\t\t'(oanimationend)': 'animationEnd()',\n\t\t'(MSAnimationEnd)': 'animationEnd()',\n\t},\n})\nexport class CarouselItem {\n\tisActive: boolean;\n\tleft: boolean;\n\tright: boolean;\n\tnext: boolean;\n\tprev: boolean;\n\texiting: boolean;\n\n\tconstructor() {\n\t\tthis.resetStatus();\n\t}\n\n\tresetStatus(): void {\n\t\tthis.isActive = false;\n\t\tthis.exiting = false;\n\t\tthis.resetAnimation();\n\t}\n\n\tresetAnimation(): void {\n\t\t//this.outLeft = this.inLeft = this.outRight = this.inRight = false;\n\t\tthis.left = this.right = this.next = this.prev = false;\n\t}\n\n\tanimationStart(): void {\n\n\t}\n\n\tanimationEnd(): void {\n\t\tif(this.exiting)\n\t\t\tthis.resetStatus();\n\t\telse\n\t\t\tthis.resetAnimation();\n\t}\n\n\tmoveLeft(): void {\n\t\tif(this.isActive) {\n\t\t\tthis.exiting = true;\n\t\t\tthis.left = true;\n\t\t} else {\n\t\t\tthis.isActive = true;\n\t\t\tthis.prev = true\n\t\t}\n\t}\n\n\tmoveRight(): void {\n\t\tif(this.isActive) {\n\t\t\tthis.exiting = true;\n\t\t\tthis.right = true;\n\t\t} else {\n\t\t\tthis.isActive = true;\n\t\t\tthis.next = true\n\t\t}\n\t}\n\n\tcheckIfAnimating(): boolean {\n\t\treturn this.left || this.right || this.next || this.prev;\n\t}\n}\n\n@Component({\n\tselector: 'carousel'\n})\n@View({\n\tstyles: [`\n   .carousel-item {\n     width: 100%; }\n\n   .carousel-item.slide-in-left {\n     display: block;\n     position: absolute;\n     top: 0;\n     left: -100%;\n     -webkit-animation-name: slideInLeft;\n     -moz-animation-name: slideInLeft;\n     animation-name: slideInLeft;\n     -webkit-animation-duration: 0.5s;\n     -moz-animation-duration: 0.5s;\n     animation-duration: 0.5s;\n     -webkit-animation-timing-function: ease;\n     -moz-animation-timing-function: ease;\n     animation-timing-function: ease; }\n\n   .carousel-item.slide-in-right {\n     display: block;\n     position: absolute;\n     top: 0;\n     left: 100%;\n     -webkit-animation-name: slideInRight;\n     -moz-animation-name: slideInRight;\n     animation-name: slideInRight;\n     -webkit-animation-duration: 0.5s;\n     -moz-animation-duration: 0.5s;\n     animation-duration: 0.5s;\n     -webkit-animation-timing-function: ease;\n     -moz-animation-timing-function: ease;\n     animation-timing-function: ease; }\n\n   .carousel-item.slide-out-left {\n     -webkit-animation-name: slideOutLeft;\n     -moz-animation-name: slideOutLeft;\n     animation-name: slideOutLeft;\n     -webkit-animation-duration: 0.5s;\n     -moz-animation-duration: 0.5s;\n     animation-duration: 0.5s;\n     -webkit-animation-timing-function: ease;\n     -moz-animation-timing-function: ease;\n     animation-timing-function: ease; }\n\n   .carousel-item.slide-out-right {\n     -webkit-animation-name: slideOutRight;\n     -moz-animation-name: slideOutRight;\n     animation-name: slideOutRight;\n     -webkit-animation-duration: 0.5s;\n     -moz-animation-duration: 0.5s;\n     animation-duration: 0.5s;\n     -webkit-animation-timing-function: ease;\n     -moz-animation-timing-function: ease;\n     animation-timing-function: ease; }\n\t`],\n\ttemplate: `\n   <div class=\"carousel slide\">\n     <ol class=\"carousel-indicators\">\n       <li *ng-for=\"#image of images\"\n         (click)=\"switchTo(image)\" [class.active]=\"image.isActive && !image.checkIfAnimating()\"></li> \n     </ol>\n     <div class=\"carousel-inner\" role=\"listbox\">\n         <ng-content></ng-content>\n     </div>\n     <a class=\"left carousel-control\" role=\"button\" (click)=\"prevImage()\">\n       <span class=\"icon-prev\" aria-hidden=\"true\"></span>\n       <span class=\"sr-only\">Previous</span>\n     </a>\n     <a class=\"right carousel-control\" role=\"button\" (click)=\"nextImage()\">\n       <span class=\"icon-next\" aria-hidden=\"true\"></span>\n       <span class=\"sr-only\">Next</span>\n     </a>\n   </div>\n\t`,\n\tdirectives: [CORE_DIRECTIVES, CarouselItem],\n\tencapsulation: ViewEncapsulation.None\n})\nexport class Carousel {\n\timages: CarouselItem[] = [];\n\t@ContentChildren(CarouselItem) imageQuery: QueryList<CarouselItem>;\n\n\tconstructor() {\n\n\t}\n\n\tafterContentInit(): void {\n\t\t(<any>this.imageQuery.changes).toRx()\n\t\t\t\t.subscribe(() => this.registerImages());\n\t\tthis.registerImages();\n\t}\n\n\tregisterImages(): void {\n\t\tthis.images = [];\n\t\tthis.imageQuery.map((i) => this.images.push(i));\n\t\tvar activeImage = this.getActiveImage();\n\t\tif(this.images.length > 0 && activeImage == null)\n\t\t\tthis.images[0].isActive = true;\n\t}\n\n\tsetAllInactive(): void {\n\t\tthis.images.map((i) => i.resetStatus());\n\t}\n\n\tswitchTo(image: CarouselItem): void {\n\t\tvar activeImage = this.getActiveImage();\n\n\t\tif(this.images.indexOf(image) < this.images.indexOf(activeImage)) {\n\t\t\timage.moveLeft();\n\t\t\tactiveImage.moveLeft();\n\t\t}\n\t\telse {\n\t\t\timage.moveRight();\n\t\t\tactiveImage.moveRight();\n\t\t}\n\t}\n\n\tnextImage(): void {\n\t\tif(this.checkIfAnimating())\n\t\t\treturn;\n\t\tvar activeImage = this.getActiveImage();\n\t\tvar index = this.getActiveIndex() + 1;\n\t\tindex = index >= this.images.length ? 0 : index;\n\t\tactiveImage.moveLeft();\n\t\tthis.images[index].moveLeft();\n\t}\n\n\tprevImage(): void {\n\t\tif(this.checkIfAnimating())\n\t\t\treturn;\n\n\t\tvar activeImage = this.getActiveImage();\n\t\tvar index = this.getActiveIndex() - 1;\n\t\tindex = index < 0 ? this.images.length-1 : index;\n\t\tactiveImage.moveRight()\n\t\tthis.images[index].moveRight();\n\t}\n\n\tcheckIfAnimating(): boolean {\n\t\treturn this.images.reduce((prev, curr) => curr.checkIfAnimating() || prev ,false);\n\t}\n\n\tgetActiveIndex(): number {\n\t\tvar activeImage = this.getActiveImage();\n\t\tif(activeImage == null)\n\t\t\treturn -1;\n\n\t\treturn this.images.indexOf(activeImage);\n\t}\n\n\tgetActiveImage(): CarouselItem {\n\t\treturn this.images.reduce((prev, curr) => curr.isActive ? curr : prev, null);\n\t}\n}\n\nexport var CAROUSEL_PROVIDERS = [\n\tCarousel, CarouselItem\n];"],"sourceRoot":"/source/"}