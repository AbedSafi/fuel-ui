{"version":3,"sources":["components/Pagination/Pagination.ts"],"names":["Pagination","Pagination.constructor","Pagination.onChanges","Pagination.getElement","Pagination.setPage"],"mappings":"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","file":"components/Pagination/Pagination.js","sourcesContent":["import {Component, View, CORE_DIRECTIVES, ElementRef, Input, Output, EventEmitter, SlicePipe, OnChanges} from 'angular2/angular2';\nimport {Range} from '../../pipes/Range/Range';\n\n@Component({\n    selector: 'pagination',\n    properties: [\n        \"totalPages: total-pages\",\n        \"pagesAtOnce: pages-at-once\"\n    ]\n})\n@View({\n    styles: [`\n      a {\n        cursor: pointer; }\n\n      /*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvUGFnaW5hdGlvbi9QYWdpbmF0aW9uLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsQ0FBQyxDQUFBO0VBQ0MsTUFBTSxFQUFFLE9BQVEsR0FDakIiLCJmaWxlIjoiY29tcG9uZW50cy9QYWdpbmF0aW9uL1BhZ2luYXRpb24uY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0= */\n    `],\n    template: `\n      <nav>\n          <ul class=\"pagination\">\n              <li [class.disabled]=\"currentPage == 1\">\n                  <a [attr.disabled]=\"currentPage == 1\" (click)=\"setPage(1)\" aria-label=\"First\">\n                      <span aria-hidden=\"true\">First</span>\n                      <span class=\"sr-only\">First</span>\n                  </a>\n              </li>\n              <li [class.disabled]=\"currentPage == 1\">\n                  <a [attr.disabled]=\"currentPage == 1\" (click)=\"setPage(currentPage - 1)\" aria-label=\"Previous\">\n                      <span aria-hidden=\"true\">&laquo;</span>\n                      <span class=\"sr-only\">Previous</span>\n                  </a>\n              </li>\n              <li *ng-for=\"#page of pagesBlank | range : 1 : totalPages | slice: startingIndex : endingIndex\" [class.active]=\"currentPage == page\">\n                  <a (click)=\"setPage(page)\">{{page}}</a>\n              </li>\n              <li [class.disabled]=\"currentPage == totalPages\">\n                  <a [attr.disabled]=\"currentPage == totalPages\" (click)=\"setPage(currentPage + 1)\" aria-label=\"Next\">\n                      <span aria-hidden=\"true\">&raquo;</span>\n                      <span class=\"sr-only\">Next</span>\n                  </a>\n              </li>\n              <li [class.disabled]=\"currentPage == totalPages\">\n                  <a [attr.disabled]=\"currentPage == totalPages\" (click)=\"setPage(totalPages)\" aria-label=\"Last\">\n                      <span aria-hidden=\"true\">Last</span>\n                      <span class=\"sr-only\">Last</span>\n                  </a>\n              </li>\n          </ul>\n      </nav>\n\n      <div class=\"input-group col-md-3\">\n          <span class=\"input-group-addon\">Jump to:</span>\n          <select class=\"form-control\" (change)=\"setPage($event.target.value)\">\n              <option *ng-for=\"#page of pagesBlank | range : 1 : totalPages\" [value]=\"page\" [selected]=\"page == currentPage\">{{page}}</option>\n          </select>\n      </div>\n    `,\n    directives: [CORE_DIRECTIVES],\n    pipes: [SlicePipe, Range]\n})\nexport class Pagination implements OnChanges {\n    private _el:HTMLElement;\n    @Input() currentPage: number;\n    @Input() pagesAtOnce: number;\n    @Input() totalPages: number;\n    @Output() currentPageChange:EventEmitter = new EventEmitter();\n    pagesBlank:Array<number> = [];\n    startingIndex:number;\n    endingIndex:number;\n\n    constructor(el: ElementRef){\n        this._el = el.nativeElement;\n    }\n\n    onChanges(changes:any):void{\n        this.setPage(this.currentPage);\n    }\n\n    getElement(): HTMLElement{\n        return this._el;\n    }\n\n    setPage(newPage:number):void{\n        if(newPage < 1 || newPage > this.totalPages) return;\n\n        this.currentPage = newPage;\n\n        //Shift pagination stuffs\n        if(this.currentPage - Math.ceil(this.pagesAtOnce / 2) < 0 || this.totalPages - this.pagesAtOnce <= 0){\n            this.startingIndex = 0;\n            this.endingIndex = this.pagesAtOnce;\n\n            console.log('start', this.startingIndex, this.endingIndex);\n        }\n        else if(this.totalPages - this.currentPage <= this.pagesAtOnce - Math.ceil(this.pagesAtOnce / 2)){\n            this.startingIndex = this.totalPages - this.pagesAtOnce;\n            this.endingIndex = this.totalPages;\n\n            console.log('end', this.startingIndex, this.endingIndex);\n        }\n        else{\n            this.startingIndex = this.currentPage - Math.ceil(this.pagesAtOnce / 2);\n            this.endingIndex = this.startingIndex + this.pagesAtOnce < this.totalPages\n                                ? this.startingIndex + this.pagesAtOnce\n                                : this.totalPages;\n\n            console.log('maths', this.startingIndex, this.endingIndex);\n        }\n\n        this.currentPageChange.next(this.currentPage);\n    }\n}\n\nexport var PAGINATION_PROVIDERS = [\n    Pagination\n];"],"sourceRoot":"/source/"}