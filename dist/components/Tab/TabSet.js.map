{"version":3,"sources":["components/Tab/TabSet.ts"],"names":[],"mappings":"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","file":"components/Tab/TabSet.js","sourcesContent":["import {Component, OnInit, OnDestroy, Input, Output} from 'angular2/core';\nimport {NgClass} from 'angular2/common';\nimport {Tab} from './Tab';\n\n@Component({\n  selector: 'tabset',\n  directives: [NgClass],\n  template: `\n    <ul class=\"nav\" [ngClass]=\"classMap\" (click)=\"$event.preventDefault()\">\n        <li *ngFor=\"#tab of tabs\" class=\"nav-item\"\n          [class.active]=\"tab.active\" [class.disabled]=\"tab.disabled\">\n          <a href class=\"nav-link\"\n            [class.active]=\"tab.active\" [class.disabled]=\"tab.disabled\"\n            (click)=\"tab.active = true\">\n            <span [innerHtml]=\"tab.heading\"></span>\n            <span *ngIf=\"tab.removable\" (click)=\"$event.preventDefault(); removeTab(tab);\">\n              <i class=\"fa fa-remove\"></i>\n            </span>\n          </a>\n        </li>\n    </ul>\n    <div class=\"tab-content\">\n      <ng-content></ng-content>\n    </div>\n  `\n})\nexport class TabSet implements OnInit, OnDestroy {\n    \n  @Input()\n  public get vertical():boolean { return this._vertical;};\n  public set vertical(value:boolean) {\n    this._vertical = value;\n    this.setClassMap();\n  }\n  protected _vertical:boolean;\n\n  @Input()\n  public get type():string {return this._type;};\n  public set type(value:string) {\n    this._type = value;\n    this.setClassMap();\n  }\n  protected _type:string;\n\n  public tabs:Array<Tab> = [];\n  private isDestroyed:boolean;\n  private classMap:any = {};\n\n  public ngOnInit():void {\n    this.type = this.type !== 'undefined' ? this.type : 'tabs';\n  }\n\n  public ngOnDestroy():void {\n    this.isDestroyed = true;\n  }\n\n  public addTab(tab:Tab):void {\n    this.tabs.push(tab);\n    tab.active = this.tabs.length === 1 && tab.active !== false;\n  }\n\n  public removeTab(tab:Tab):void {\n    let index = this.tabs.indexOf(tab);\n    if (index === -1 || this.isDestroyed) {\n      return;\n    }\n    \n    if (tab.active && this.hasAvailableTabs(index)) {\n      let newActiveIndex = this.getClosestTabIndex(index);\n      this.tabs[newActiveIndex].active = true;\n    }\n\n    tab.remove.next(tab);\n    this.tabs.splice(index, 1);\n  }\n\n  private getClosestTabIndex(index:number):number {\n    let tabsLength = this.tabs.length;\n    if (!tabsLength) {\n      return -1;\n    }\n\n    for (let step = 1; step <= tabsLength; step += 1) {\n      let prevIndex = index - step;\n      let nextIndex = index + step;\n      if (this.tabs[prevIndex] && !this.tabs[prevIndex].disabled) {\n        return prevIndex;\n      }\n      if (this.tabs[nextIndex] && !this.tabs[nextIndex].disabled) {\n        return nextIndex;\n      }\n    }\n    return -1;\n  }\n\n  private hasAvailableTabs(index:number):boolean {\n    let tabsLength = this.tabs.length;\n    if (!tabsLength) {\n      return false;\n    }\n\n    for (let i = 0; i < tabsLength; i += 1) {\n      if (!this.tabs[i].disabled && i !== index) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  private setClassMap():void {\n    this.classMap = {\n      'nav-stacked': this.vertical,\n      ['nav-' + (this.type || 'tabs')]: true\n    };\n  }\n}"],"sourceRoot":"/source/"}