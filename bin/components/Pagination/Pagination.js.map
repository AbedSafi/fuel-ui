{"version":3,"sources":["components/Pagination/Pagination.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA2G,eAAe,CAAC,CAAA;AAC3H,uBAAyC,iBAAiB,CAAC,CAAA;AAC3D,sBAAoB,yBAAyB,CAAC,CAAA;AAgB9C;IAUI,oBAAY,EAAc;QALhB,sBAAiB,GAAG,IAAI,mBAAY,EAAO,CAAC;QACtD,eAAU,GAAiB,EAAE,CAAC;QAK1B,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,aAAa,CAAC;IAChC,CAAC;IAED,gCAAW,GAAX,UAAY,OAAW;QACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACnC,CAAC;IAED,+BAAU,GAAV;QACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;IACpB,CAAC;IAED,4BAAO,GAAP,UAAQ,OAAc;QAClB,EAAE,CAAA,CAAC,OAAO,GAAG,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC;YAAC,MAAM,CAAC;QAEpD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;QAE3B,yBAAyB;QACzB,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,CAAA,CAAC;YAClG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACxC,CAAC;QACD,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/F,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;YACxD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC;QACvC,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;YACxE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU;kBACpD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW;kBACrC,IAAI,CAAC,UAAU,CAAC;QAC1C,CAAC;QAED,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAClD,CAAC;IA1CD;QAAC,YAAK,EAAE;;mDAAA;IACR;QAAC,YAAK,EAAE;;mDAAA;IACR;QAAC,YAAK,EAAE;;kDAAA;IACR;QAAC,aAAM,EAAE;;yDAAA;IAnBb;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,YAAY;YACtB,eAAe,EAAE,8BAAuB,CAAC,MAAM;YAC/C,UAAU,EAAE;gBACR,yBAAyB;gBACzB,4BAA4B;aAC/B;SACJ,CAAC;QACD,WAAI,CAAC;YACF,MAAM,EAAE,CAAC,oGAAoG,CAAC;YAC9G,QAAQ,EAAE,uvEAAuvE;YACjwE,UAAU,EAAE,CAAC,wBAAe,CAAC;YAC7B,KAAK,EAAE,CAAC,kBAAS,EAAE,aAAK,CAAC;SAC5B,CAAC;;kBAAA;IA8CF,iBAAC;AAAD,CA7CA,AA6CC,IAAA;AA7CY,kBAAU,aA6CtB,CAAA;AAEU,4BAAoB,GAAG;IAC9B,UAAU;CACb,CAAC","file":"components/Pagination/Pagination.js","sourcesContent":["import {Component, View, ElementRef, Input, Output, EventEmitter, OnChanges, ChangeDetectionStrategy} from 'angular2/core';\nimport {CORE_DIRECTIVES, SlicePipe} from 'angular2/common';\nimport {Range} from '../../pipes/Range/Range';\n\n@Component({\n    selector: 'pagination',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    properties: [\n        \"totalPages: total-pages\",\n        \"pagesAtOnce: pages-at-once\"\n    ]\n})\n@View({\n    styles: [\"\\n      a {\\n        cursor: pointer; }\\n\\n      a:hover {\\n        text-decoration: none; }\\n    \"],\n    template: \"\\n      <nav>\\n          <ul class=\\\"pagination\\\">\\n              <li class=\\\"page-item\\\" [class.disabled]=\\\"currentPage == 1\\\">\\n                  <a class=\\\"page-link\\\" [attr.disabled]=\\\"currentPage == 1\\\" (click)=\\\"setPage(1)\\\" aria-label=\\\"First\\\">\\n                      <span aria-hidden=\\\"true\\\">First</span>\\n                      <span class=\\\"sr-only\\\">First</span>\\n                  </a>\\n              </li>\\n              <li class=\\\"page-item\\\" [class.disabled]=\\\"currentPage == 1\\\">\\n                  <a class=\\\"page-link\\\" [attr.disabled]=\\\"currentPage == 1\\\" (click)=\\\"setPage(currentPage - 1)\\\" aria-label=\\\"Previous\\\">\\n                      <span aria-hidden=\\\"true\\\">&#171;</span>\\n                      <span class=\\\"sr-only\\\">Previous</span>\\n                  </a>\\n              </li>\\n              <li *ngFor=\\\"#page of pagesBlank | range : 1 : totalPages | slice: startingIndex : endingIndex\\\" class=\\\"page-item\\\" [class.active]=\\\"currentPage == page\\\">\\n                  <a class=\\\"page-link\\\" (click)=\\\"setPage(page)\\\">{{page}}</a>\\n              </li>\\n              <li class=\\\"page-item\\\" [class.disabled]=\\\"currentPage == totalPages\\\">\\n                  <a class=\\\"page-link\\\" [attr.disabled]=\\\"currentPage == totalPages\\\" (click)=\\\"setPage(currentPage + 1)\\\" aria-label=\\\"Next\\\">\\n                      <span aria-hidden=\\\"true\\\">&#187;</span>\\n                      <span class=\\\"sr-only\\\">Next</span>\\n                  </a>\\n              </li>\\n              <li class=\\\"page-item\\\" [class.disabled]=\\\"currentPage == totalPages\\\">\\n                  <a class=\\\"page-link\\\" [attr.disabled]=\\\"currentPage == totalPages\\\" (click)=\\\"setPage(totalPages)\\\" aria-label=\\\"Last\\\">\\n                      <span aria-hidden=\\\"true\\\">Last</span>\\n                      <span class=\\\"sr-only\\\">Last</span>\\n                  </a>\\n              </li>\\n          </ul>\\n      </nav>\\n\\n      <div class=\\\"input-group col-md-3\\\">\\n          <span class=\\\"input-group-addon\\\">Jump to:</span>\\n          <select class=\\\"form-control\\\" (change)=\\\"setPage($event.target.value)\\\">\\n              <option *ngFor=\\\"#page of pagesBlank | range : 1 : totalPages\\\" [value]=\\\"page\\\" [selected]=\\\"page == currentPage\\\">{{page}}</option>\\n          </select>\\n      </div>\\n    \",\n    directives: [CORE_DIRECTIVES],\n    pipes: [SlicePipe, Range]\n})\nexport class Pagination implements OnChanges {\n    private _el:HTMLElement;\n    @Input() currentPage: number;\n    @Input() pagesAtOnce: number;\n    @Input() totalPages: number;\n    @Output() currentPageChange = new EventEmitter<any>();\n    pagesBlank:Array<number> = [];\n    startingIndex:number;\n    endingIndex:number;\n\n    constructor(el: ElementRef){\n        this._el = el.nativeElement;\n    }\n\n    ngOnChanges(changes:any):void{\n        this.setPage(this.currentPage);\n    }\n\n    getElement(): HTMLElement{\n        return this._el;\n    }\n\n    setPage(newPage:number):void{\n        if(newPage < 1 || newPage > this.totalPages) return;\n\n        this.currentPage = newPage;\n\n        //Shift pagination stuffs\n        if(this.currentPage - Math.ceil(this.pagesAtOnce / 2) < 0 || this.totalPages - this.pagesAtOnce <= 0){\n            this.startingIndex = 0;\n            this.endingIndex = this.pagesAtOnce;\n        }\n        else if(this.totalPages - this.currentPage <= this.pagesAtOnce - Math.ceil(this.pagesAtOnce / 2)) {\n            this.startingIndex = this.totalPages - this.pagesAtOnce;\n            this.endingIndex = this.totalPages;\n        }\n        else {\n            this.startingIndex = this.currentPage - Math.ceil(this.pagesAtOnce / 2);\n            this.endingIndex = this.startingIndex + this.pagesAtOnce < this.totalPages\n                                ? this.startingIndex + this.pagesAtOnce\n                                : this.totalPages;\n        }\n\n        this.currentPageChange.next(this.currentPage);\n    }\n}\n\nexport var PAGINATION_PROVIDERS = [\n    Pagination\n];"],"sourceRoot":"/source/"}